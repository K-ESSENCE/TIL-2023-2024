### Deadlock1

우리말로는 교착상태
![Alt text](image-58.png)

일련의 프로세스들이 서로가 가진 자원을 기다리며 블락된 상태

여기서 자원은 하드웨어 소프트웨어를 포함함

IO디바이스 로 해서 프로세스 A가 테입 드라이브 하나 읽어서 다른 테잎드라이브에 카피한다고 하면

두프로세스가 각각을 가져야되는데

서로 하나씩 가지고있고 내놔만 시전하면 아무도 못가지는

세마포어나 공유데이터도 자원에 포함됨
![Alt text](image-59.png)

프로세스가 자원을 사용하는 절차는 크게 4단계

요청 , 획득, 사용, 반납

### 데드락이 발생하는 조건 4가지

![Alt text](image-60.png)

1. 상호배제 mutual exclusion
   자원을 얻어쓰면 독점적으로 쓴다는 이야기 같이 쓰면 그럴일이없는데

자원을 혼자쓰다보니 생김

2. No preemption 비선점
   빼앗기지않음

3. Hold and wait

보유대기

내가 가진걸 안내놓으면서 추가자원 요청

4. circular wait 순환대기

하나쓰고 하나기다리고 하다가 서로가 가진자원을 기다리면서 사이클을 형성하는경우

데드락이 발생했는지 알아보기 위해서 자원할당 그래프를 통해 알아낸다.
![Alt text](image-61.png)

동그라미는 프로세스

네모는 자원

화살표의 종류도 두가지

자원에서 프로세스쪽으로 가는거 하나

프로세스에서 자원으로 가는거 하나

화살표를 따라가서 사이클이 없으면 데드락이 아님

자원의 인스턴스가 하나씩 밖에없을때 그래프안에 사이클이 생겼다=> 데드락이있다.

자원에 인스턴스가 여러개다 => 데드락일수도아닐수도있다.

### Deadlock의 처리방법

![Alt text](image-62.png)

위 두개는 미연에 방지하는 방법

밑의 두 방법은 생기도록 놔둠 그러다가 있으면 하는게 세번째이고

네번쨰는 아무것도 안함 => 현재운영체제는 대부분 4번째를 채택한다.

운영체제가 관여를 안하면 => 사람이 알아서 프로세스를 죽임

18:57 데드락이라는 용어는
