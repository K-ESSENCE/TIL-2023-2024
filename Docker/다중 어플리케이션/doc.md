### mongodb

27017:27017 포트 노출
네트워크때 했던 host.docker.internal
둘 다 잊지말것

환경변수

-e MONGO_INITDB_ROOT_USERNAME=
-e MONGO_INITDB_ROOT_PASSWORD=

이걸넣으면 데이터베이스가 보호되고있어서 node에서 파일수정해야됨

mongodb://user:pw@mongodb:27017

### node

는 별로 다를거없음

### fe

run 시 -it옵션을 넣어줘야됨

알다시피 내부 포트 3000 맵핑

리액트코드는 컨테이너 내부에서가 아니라 브라우저에서 실행됨 그의미는 브라우저에서 실행되기떄문에

브라우저는 우리가 바꾼 컨테이너이름을 모름

브라우저가 인식하는 식별자를 넣어줘야됨

localhost

프론트엔드에서는 --network 옵션 할필요없음 의미없음 이경우에는

프론트엔드 바인드 할때 src/app.js 위치로하면됨 리액트니까뭐 프론트는 노드몬도 필요 ㄴ

윈도우는 파일이 바로 적용되지않는 이슈가있음 WSL2랑 window 같이쓰면서 도커쓰면 이렇게됨

### 네트워크

효율적인 컨테이너간 통신을 위해 생성

프론트엔드의 localhost도 전부 컨테이너 이름으로 변경

### 환경변수

dockerfile 환경변수 설정하고 코드내에서는 process.env 로 접근

### 모듈 요약

데이터 베이스 / 백엔드 /프론트 3가지로 이루어진 컨테이너를 서로 통신시켜봄

라이브 소스 코드 업데이트까지 구성

개발에만 도커를 사용하는 사람도있음 => 환경등을 캡슐화하기위해서

지금까지 한 방식은 배포용은 아니였고 개발에서만. 그리고 너무 docker run 커맨드가 길다.
