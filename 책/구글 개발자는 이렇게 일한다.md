문화를 만들어가는 입장에서 일단 당장 나한테 필요한 파트부터.

메인 브랜치를 보통 head default trunk 등으로 부른다.

vcs 를 주저하는 이유가있다면 프로그래밍과 소프트웨어 엔지니어링을 제대로 융합시키지 못해서이다.

축적된 경험과 달라진 개발 문화 덕에 예전에는 하지않았던 버젼관리를 잘 적용하게 되었음

경영진이 엔지니어링이 아닌 소프트웨어 개발로만 생각해도 vcs를 주저하게된다.

창출하는 일이 아니라 코드만 작성하는 일로 보는것.

언제든 옛버젼을 별도의 스토리지를 두고 볼 수 있는것도 장점

프로젝트 되돌리기 기능은 잘 이용안하더라도

개발이란 본질적으로. 분기하고 병합하면 전진하는 프로세스

분기와 병하은 여러 개발자 사이에서 이루어지는 혹은 한 명의 개발자가 여러 시간대에서 수행하는 작업들을체계적으로 관리해주는 핵심 개념이다.
vcs 는 어느 게 최신이지 라는 질문을 사라지게 해줍니다.

vcs에 커밋하고자 커밋 메세지를작성하는 동안 잠깐 개발자는 자신을 돌아본다. 마지막 커밋 이후 이룬것은 무엇이고 소스품질은 만족스러운지

커밋 프로세스의 시작은 체크 리스트를점검하고 정적 분석을 하고 커버리지 동적 분서등을 수행하기에 가장 좋은 시간이다.

2. 중앙 집중형 vcs 분산형 vcs

중앙집중형은 단 하나의 중앙 리포지터리를 이용하는 모델

초기에는 동시 편집을막아주는 락킹에 집중 레포 내용복사는 자유지만 편집하고 싶으면락을 걸고 반납

확장 문제를 해결하고자 동기화를 추적하기 시작

분산형 vcs
분산형패러다임 서농장 깃과 머큐리얼

개발 브런치에 중독되어 가는 과정

병합 후 다시 테스트 하는 데 드는 노력은 모두 무가치한 오버헤드다.

전혀 다른 접근 방법이 필요한데 그게 바로 트렁크 기반 개발이다.

테스트와 ci를 적극적으로 활용하여 모든 테스트와 빌드가 항상 성공하도록 관리하며 완벽하지 않거나 테스트 되지않은커밋은 비활성화 한다.

수많은 개발 브랜치에서 단일 진실 공급원으로 좁힌다는것은 그저 어차피 포함시킬 기능을 더 일찍 혹정하기위한 전략이다.

제품의 릴리스 간격이 몇 시간 이상이면 릴리스가 따로 있으면 좋다.

개발 이랑 다르게 릴리스는 무해하다.

기술이 아니냐 어떻게 사용하느냐의 문제

개발 과릴리스의 큰 차이는 생을 마감하는 모습

개발 브랜치는 트러으에 다시 병합될텐데 다른팀이 추가로 따서 가지를 더 뻗을 수도있다.

릴리스는 혼자 존재하다가 결국 사라질 것이다.

트렁크로부터 하루에 몇번씩 릴리스 할 수 있는 지속적 배포가 잘 자리 잡은 조직에서는 대체로 릴리스 브랜치를 건너뜁니다.

트렁크 기반 개발 조직과 장기간 유지되는 개발 브랜치가적은 조직 일 수록 기술적 성취가 뛰어나다.

브랜치가 생산성을 좀먹는 강력한 근거.

병합전략이 복잡해진 원인 결국 트렁크를 안정되게 관리하겠다는 목표.

16.3 버젼관리 @ 구글

구글은 크로미움과 안드로이드 같은 오픈소스 프로젝트를 제외하고는 구글이 주관하는 프로젝트 거의 모두가 이 안에서 이루어진다.

자체 개발 중앙집중형 vcs를 이용한다. 이름은 파이퍼 이고 80테라 바이트 이상의 콘텐츠와 메타데이터를 담고 있다.

파이퍼는 서비스형 컴퓨트기술로 프로덕션 환경에서 마이크로 서비스 형태로 구동되게끔 만들어져서 세계 곳곳에 흩어져 있는 구글 엔지니어들에게 표준화된 스토리지와 소통 수단을 제공함

동시 편집 지원하여 숸명의 엔지니어가 매일 쏟아내는 커밋을 받는다.

트렁크로부터 새로운클라를만들고 파일하나 추가후 리뷰없이 커밋하는데 십오초면 가능하다.

자체 개발의 큰 매력은 우리가 선택한 버전관리정책에 맞춰 시스템을 수정할 수 있다는 점

16.3 원ㅡ버전

원 버전은 어느 리포의 어느 브랜치가 진실 공급원인지를 개발자가 명확히 알도록 한다는 단일 진실 공급원 개념을 확장한 개념임.

구체적으로는 모든 의존성이 우리 레포에 담겨있고 각 의존성은 하나의 버전만 저장해둬야함

서드파티패키지도 파이퍼에는 단 하나의 버전 만있어야됨

진실 공급원이 단일 레포 단일 브랜치 단일 카피로 구성된다는 정책은 직관적이지만 실제 적용하려면 미묘하게 고려할게 많습니다.

16.3.2 시나리오 : 여러 버전을 허용한다면

포크 후 여러버전이있으면 운 좋으면 빌드실패지만 운나쁘면 이해가 어려운 런타임 버그가 발생함
