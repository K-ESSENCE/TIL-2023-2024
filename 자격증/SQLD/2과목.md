- 관계형 데이터베이스 구성 요소

  - 계정 : 데이터의 접근 제한을 위한 여러 업무별/시스템별 계정이 존재
  - 테이블: DBMS의 DB안에서 데이터가 저장되는 방식
  - 스키마: 테이블이 어떠한 구성으로 되어있는지 , 어떠한 정보를 가지고 있는지에 대한 기본적인 구조를 정의

- 테이블
  - 정의
    - 엑셀에서의 워크시트 표 처럼 행과 열을 갖는 2차원 구조로 구성
    - 컬럼은 속성이라고도 부름 (모델링 단계마다 부르는 용어가 다름)
  - 특징
    - 하나의 테이블은 반드시 하나의 유저(계정) 소유여야함
    - 여러 유저가 볼 수 는 있으나 소유는 딱하나! 없을수도없음
    - 테이블 명은 중복될 수 없지만 소유자가 다른 경우 같은 이름으로 생성이 가능함.

테이블은 행 단위로 데이터가 입력, 삭제되며 수정은 값의 단위로 가능

수정은 일부 가능

- SQL
  - structered Query Language
  - 정의 ( DDL), 데이터 조작(DML), 데이터 제어 언어 (DCL)
  - SQL 문법은 대 소문자를 구분하지 않음
- 관계형 데이터베이스 특징

  - 데이터의 분류, 정렬, 탐색 속도가 빠름
  - 신뢰성이 높고, 데이터의 무결성 보장
  - 기존의 작성된 스키마를 수정하기 어려움
  - 데이터베이스의 부하를 분석하는 것이 어려움

- 데이터 무결성(integrity)

  - 데이터의 정확성과 일관성을 유지하고, 데이터에 결손과 부정합이 없음을 보증하는 것
  - 개체 무결성
    - 기본키 null안되고 중보값안됨
  - 참조 무결성
    - 외래키 값은 null이 될 수 있지만 참조 테이블의 기본키 값과 동일해야된다.
  - 도메인(컬럼의 범위) 무결성
    - 주어진 속성값이 정의된 도메인에 속한 값이어야됨
  - NULL 무결성
    - NULL허용안하는거
  - 고유 무결성
    - 절대 중복 ㄴ
  - 키 무결성
    - 하나의 릴레이션에는 적어도 하나의 키가 있어야됨

- SQL 종류
  - ddl
    - 정의 ⇒ 취소 불가 / 자동확정 , 오토커밋
    - create , alter , drop , truncate(전체 다 날라가고 못 돌림)
  - dml
    - 조작
    - insert,delete,update,merge
  - dcl
    - 데이터 컨트롤 언어 (권한)
    - grant,revoke
  - tcl
    - 트랜잭션 제어언어
    - commit, rollback
  - dql
    - 데이터 쿼리 언어 단독으로 여기에만있음
    - Select

Select는 6개절

select from where group by having order by

칼럼명 , 테이블명, 조회조건, 그룹 칼럼명, 필터링 조건 , 정렬

우리가 적는거랑 다르게 실행되는 순서는 다름

from > where> group by> having > select > order by 순

Select문장을 사용하여 불러올 컬럼명 , 연산 결과를 작성하는 절 / Alias 지정 가능

원래 대소문자 구분하지않아도됨.

표현식을 사용하여 원본과 다른 데이터 출력 가능

Alias의 경우 Select절에서만 가능함

select문보다 늦게 수행되는 oreder by 절에서만 select에서 정의한 별칭을 사용가능하다.

별칭에 공백/특수문자/그대로 전달할 때(대소문자)에는 쌍따옴표 필요

- FROM 절

데이터를 불러올 테이블명 또는 뷰명 전달
테이블 여러 개 전달 가능 => 조인 조건없이 나열하면 카티시안 곱 발생
테이블 별칭 선언가능 (AS 쓰지 않음)

오라클에서는 FORM 절 생략 불가함.
MSSQL 에서는 FROM 생략가능 (오늘 날짜 조회 시)

- 정규화
  - 데이터 중복 제거 데이터가 관심사별로 처리되도록 엔터티를 쪼개 성능을 향상 시키는 활동
  - 정규화의 반대로 반 정규화가있음 : 엔터티를 합치는 활동
  - 함수적 종석
    - 어떤 기준 값(컬럼)에 의해 데이터가 종속되는 현상을 의미
    - 결정자 → 종속자
  - 정규화 과정
    - 비정규형 → 도메인 원자성 → 1NF (NF:normal form = 정규형) ⇒ 부분 종속 제거 ⇒ 2NF= > 이행종속제거 ⇒ 3NF⇒ 결정자 제거 ⇒ BCNF ⇒다치종속 ⇒ 4nf ⇒조인속성 ⇒ 5nf (두부이결다좈ㅋㅋ)
    - 1차 (원자성 확보)
      - 다중 속성이 있거나 여러 속성 있으면 원값으로 쪼개기
      - 주소1/주소 2 이딴거안됨
    - 2차
      - 식별자에 부분 종속 하는 대상을 쪼갬
      - 부분 종속 제거
      - 학번 만으로도 유일하게 구분할수있으면 몇차를 해야되나 ⇒ 2차로 쪼갬.
    - 3차 (이행족송제거)
      - 일반속성끼리 함수종속이 발생하면 쪼갬.
      - 식별자는 아닌데 일반속성이 유일하게 구별하고있음 그럼 이걸 쪼개 버림
      - ab, bc a가 b를 식별하고 b가 c를 식별
      - 완전함수 종속(2차가 끝난상태)
        반정규화는 데이터의 무결성을 꺠질 위험이 있음 그래서 정안되면 해야.
- 조인이란?

  - 식별자를 상속해(외래키) 데이터를 결합해서 여러 엔터티에서 필요한 데이터를 한번에 가져오는것

- 계층형 데이터 모델이란?

  - 계층구조를 가진 데이터를 저장한 모델 자기 자신의 엔터티와 관계가 발생하는 경우

- 상호배타적 관계 ?
  - a와b가 c 집단에 소속은 되어있지만 서로 공통적이진않음.
  - 개인고객은 법인 데이터없고 법인도 개인 데이터가없음 그러나 대출현황에는 개인이든 법인이든 다 껴있는 부분

### 함수

input있을때 output value를 출력해주는 객체

from 절을 제외한 모든 절에서 사용가능

- 함수의 기능
  - 쿼리문을 더욱 강력하게함
  - 데이터의 계산
  - 수정
  - 데이터타입 변환
- 종류

  - 단일행 함수
    - 인풋 하나
  - 복수행 함수
    - 인풋 여러개 (그룹함수, 집계함수라고도한다.)
    - 요약된 값을 리턴 ⇒ ex) 평균

- 입출력값의 타입에 따른 함수 분류

  - 문자형 함수
    - 문자열 결합, 추출, 삭제 등을 수행
    - 단일행 함수 형태
    - output은 대부분 문자값 (length, instr 제외)

- 문자함수 종류

  - LOWER
  - UPPER
  - SUBSTR
  - INSTR(대상에서 찾을 문자열 위치 반환)
    - - 로 뒤에서부터 찾기 가능

- 숫자형 함수

  - ABS
  - ROUND
  - …

- 날짜함수

  - SYSDATE ⇒ 현재날짜 와 시간
  - CURRENT_DATE ⇒ 현재날짜
  - ADD_MONTH⇒n개월뒤 -면이전
  - NEXT_DAY ⇒ 다음요일 ⇒ 요일
  - LAST_DAT ⇒ 해당월의 마지막날짜
  - TRUNC ⇒ 날짜버림

- 변환함수

  - 값의 데이터 타입을 변환
  - TO_NUMBER / TO_CHAR / TO_DATE / CAST

- 그룹함수
  - 다중행 함수
    - 여러 값이 input으로 들어가서 하나의 요약된 값으로 리턴
    - group by 와 함께 자주 사용됨
- 일반함수
  - NVL ⇒ 치환함수

### WHERE 절

원하는 조건 조회

= / ≠ , <> / ≥ / BETWEEN A AND B 가능 / IN / LIKE(특정패턴)

문자나 날짜 상수 표현시 반드시 홀따옴표를 사용해야됨. (다른절도 마찬가지)

IS NULL , IS NOT NULL 등

OR는 합집합.

LIKE 연산자는 %와 \_ 를 이용함.

%는모든거 * 는 *하나당 한 자리수를 의미.

이거살짝 정규식 닮았는데

- GroupBy절
  - 각 행을 특정 조건에 따라 그룹으로 분리하여 계산하도록 하는 구문식
  - 그룹 필터명
  - HAVING : 그룹핑 대상 필터링 조건
  - 그룹 연산에서 제외할 대상이있다면 where 절에서 해당 행을 제외함(where 절이 group by 절보다 먼저 수행되므로)
- having 절
  - 그룹 함수 결과를 조건으로 사용할 때 사용하는 절

성능상 wehre

절에서 먼저 필터링하고 그룹핑 하는게 좋음

이왕이면 표준이 그룹바이를 헤빙절보다 먼저쓰는게 좋다.

- order By절

맨 마지막 에 위치하고 파싱 순서도 맨 마지막임.

오름차순이 default ASC 내림차순은 DESC

셀렉트절보다 유일하게 나중에 사용함 유일하게 셀렉트절의 컬럼명 사용가능

- join

  - 정규화 규칙으로 분리가되고 상속이되면 결국 분리된 절을 다시 합치고싶으면 join기법을 쓰면됨.

- 조인 종류

  - 조건이동등 조건인경우 아닌경우 EQUI JOIN (=) 사실상 가장 많이 쓰는 조인 NON-EQUI JOIN(<,>)
  - 결과가 데이터만 있는거 / 조건에 성립하는 데이터 아닌것도 있는거
  - NATURAL : 조언조건 생략 시 두 테이블의 같은 이름으로 자연연결
  - CROSS : 생략시 발생 가능한 모든 행을 출력(카테시안 곱 ⇒ 잘못된 조인)
  - SELF : 하나의 테이블을 두 번 이상 참조하여 연결하는 조인
    - 스스로 조인이다보니까 테이블명이 중복되므로 반드시 테이블 별칭 사용

- 표준조인

  - ANSI표준으로 작성되는 INNER OUTER NATURAL을 말함
  - INNER
    - 일치하는거만(오라클은 INNER가 기본임)
  - ON절
    - 조인할 양 칼럼의 칼럼명이 다르더라도 사용 가능
    - ON절은 WHERE절에서 전달하듯이 따로 만든것.
  - USING조건절

    - 조인할 컬럼명이 같을 경우 사용

    - db

  - 데이터를 일정한 형태로 저장

- dbms
  - 관리시스템으로 데이터 손상 방지, 복구, 인증된 사용자만 접근
- 관계형 rdbms

  - 엔터티들끼리의 관계를 이용해서 데이터의 의미를 표현하는 것

- 테이블
  - rdbms에서 실제 데이터가 저장되고 조회되는 2차원 배열 형태의 저장소 공간
  - 테이블/칼럼(세로)/튜플 (가로 한줄)

개념에서는 엔터티 논리에서는 릴레이션 물리적인거에선 테이블 / 성질은 똑같다.

- sql

  - RDBMS에서 데이터 정의, 조작, 조회 ,제어 등을 하기 위해 사용하는 언어

- ddl 정의어
  - create,alter,drop,rename,truncate
- dml 조작어
  - select,insert,update,delete,merge
- dcl 제어(권한)
  - grant, revoke
- tcl, 트랜잭션 제어어

  - commit , rollback, savepoint

- 일반집합연산자와 순수관계연산자

- select문
  - 테이블에서 원하는 데이터를 조회할 때 사용하는 문법

PRD / TB / REG(등록) 뭐 이런식으로 단어 정의 하고 실무에선 시작

- distinct:중복없이 출력

중복된 내용이 많네 근데 뭐 반복은 좋은거지 공부하는데에
